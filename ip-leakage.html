<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>IP Leakage Write-up - s8n</title>
  <!-- p5.js Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>

  <style>
    /* --- GLOBAL STYLES --- */
    body {
      margin: 0;
      padding: 0;
      background: black;
      font-family: "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      color: #e0e0e0;
      line-height: 1.6;
    }

    canvas {
      position: fixed !important;
      top: 0;
      left: 0;
      z-index: -1;
    }

    a { color: #00ff88; text-decoration: none; transition: 0.2s; }
    a:hover { color: white; text-decoration: underline; }

    /* --- CONTENT CONTAINER --- */
    .content {
      position: relative;
      z-index: 10;
      max-width: 800px;
      margin: 40px auto 100px;
      padding: 50px;
      background: rgba(15, 15, 15, 0.85); /* Dark semi-transparent background */
      backdrop-filter: blur(8px);         /* Blurs the animation behind text */
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: 0 10px 40px rgba(0,0,0,0.5);
    }

    /* --- TYPOGRAPHY --- */
    h1 {
      margin-top: 10px;
      font-size: 2rem;
      color: white;
      line-height: 1.3;
    }

    h2 {
      margin-top: 40px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
      padding-bottom: 10px;
      color: #fff;
    }

    h3 {
      margin-top: 30px;
      color: #ccc;
      font-weight: 600;
    }

    p, li {
      font-size: 1.05rem;
      color: #ccc;
    }

    code {
      background: rgba(255,255,255,0.1);
      padding: 2px 6px;
      border-radius: 4px;
      font-family: "Courier New", monospace;
      color: #ff9999;
    }

    /* --- BOUNTY BADGES --- */
    .meta-header {
      display: flex;
      gap: 15px;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }

    .badge {
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 0.9rem;
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .severity-medium {
      background: rgba(255, 165, 0, 0.2);
      border: 1px solid orange;
      color: orange;
    }

    .bounty {
      background: rgba(0, 255, 136, 0.15);
      border: 1px solid #00ff88;
      color: #00ff88;
    }

    /* --- IMAGES --- */
    .img-container {
      margin: 30px 0;
      text-align: center;
    }

    img {
      max-width: 100%;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.15);
      box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    }

    .img-caption {
      display: block;
      margin-top: 8px;
      font-size: 0.85rem;
      color: #777;
      font-style: italic;
    }

    /* --- BACK BUTTON --- */
    .back-btn {
      display: inline-block;
      margin-bottom: 20px;
      color: #888;
      font-size: 0.9rem;
    }
    .back-btn:hover { color: white; text-decoration: none; }

    /* --- FOLLOW BUTTON (Top Right) --- */
    .x-follow {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 30;
      font-size: 13px;
      color: #ccc;
      text-decoration: none;
      padding: 6px 14px;
      border-radius: 8px;
      background: rgba(0,0,0,0.35);
      backdrop-filter: blur(4px);
      border: 1px solid rgba(255,255,255,0.15);
      transition: 0.2s ease;
    }
    .x-follow:hover {
      color: white;
      background: rgba(255,255,255,0.1);
      border-color: rgba(255,255,255,0.35);
    }
  </style>
</head>

<body>

<a class="x-follow" href="https://x.com/robotics8n" target="_blank">follow me on X</a>

<div class="content">
  <a href="index.html" class="back-btn">‚Üê Back to Home</a>
  
  <h1>User IP Address Leakage via Unproxied External Resources</h1>
  
  <div class="meta-header">
    <div class="badge severity-medium">Severity: Medium</div>
    <div class="badge bounty">Bounty: $1,675</div>
    <div class="badge" style="border: 1px solid #555; color: #aaa;">Date: Nov 2025</div>
  </div>

  <h2>Vulnerability Summary</h2>
  <p>
    I discovered a privacy issue that allows attackers to capture IP addresses and metadata of users who view their profiles. The profile picture feature accepts arbitrary external URLs. 
  </p>
  <p>
    When users view a profile with an external image URL, their browser makes a direct request to that external domain, leaking sensitive information to the profile owner without the visitor's knowledge or consent.
  </p>

  <h3>Information Disclosed</h3>
  <ul>
    <li><strong>IP Address</strong> (Location data)</li>
    <li><strong>User-Agent Strings</strong> (Browser version, OS details)</li>
    <li><strong>Referer Header</strong> (Confirming the profile URL visited)</li>
    <li><strong>Timestamp</strong> of the profile view</li>
  </ul>

  <h2>Proof of Concept (PoC)</h2>
  
  <h3>Step 1: Setup</h3>
  <p>
    I set my profile picture URL to a domain I control (using Interactsh/Oast):<br>
    <code>https://[attacker-domain].oast.fun/.png</code>
  </p>

  <!-- IMAGE 1: Setting the profile picture -->
  <div class="img-container">
    <img src="image.png" alt="Setting the Malicious Payload in Profile">
    <span class="img-caption">Figure 1: Injecting the external payload into the profile picture input.</span>
  </div>

  <h3>Step 2: Execution</h3>
  <p>
    When any user views the affected profile, their browser automatically attempts to load the image. This creates a direct connection to my server.
  </p>

  <!-- IMAGE 2: The Network Request/Log -->
  <div class="img-container">
    <img src="image(1).png" alt="Log of IP and User Agent">
    <span class="img-caption">Figure 2: Attacker's server logs confirming receipt of Victim's IP and User-Agent.</span>
  </div>

  <h3>Step 3: Confirmation</h3>
  <p>
    The attacker's server logs the visitor's IP address, User-Agent, Referer header, and timestamp immediately upon the page load. This enables malicious actors to collect detailed visitor information and track who views their profile.
  </p>

  <h2>Impact</h2>
  <p>
    This vulnerability allows attackers to de-anonymize users through PII leakage, specifically IP addresses. The impact is amplified if malicious actors place themselves on the leaderboard, where they could collect data from a large number of unsuspecting users.
  </p>

  <h2>Remediation</h2>
  <p>
    I recommended implementing an image proxy to serve external profile pictures through the platform's infrastructure. This prevents direct requests from user browsers to external domains. This approach is standard practice on platforms like Discord, Reddit, and Slack.
  </p>

  <h2>Timeline & Reward</h2>
  <p>
    The team assessed the finding as <strong>Medium Severity</strong> and awarded a bounty of <strong>$1,675</strong>.
  </p>

  <!-- IMAGE 3: The Payout -->
  <div class="img-container">
    <img src="payout.jpg" alt="Bounty Payout Confirmation">
    <span class="img-caption">Figure 3: Bounty confirmation.</span>
  </div>
  
  <br>
  <p style="font-size: 0.9rem; color: #666;">
    <em>Report by s8n.</em>
  </p>

</div>

<script>
  /* --- BACKGROUND ANIMATION --- */
  let f = 0;

  function setup() {
    createCanvas(windowWidth, windowHeight, WEBGL);
  }

  function windowResized() {
    resizeCanvas(windowWidth, windowHeight);
  }

  function draw() {
    background(0);

    let w = PI / 6;
    let P = w * 3;

    pointLight(255, 255, 255, 0, 0, 300);

    rotateX(PI / 6);
    rotateY(f -= 0.01);

    for (let x = 0; x < TAU; x += w) {
      for (let y = 0; y < TAU; y += P) {
        push();
        rotateY(x);
        rotateX(f * 0.3);

        push();
        translate(0, 0, 180);
        // Using a slightly higher detail torus for the article page
        torus(90, 12, 16, 8);
        pop();

        pop();
      }
    }
  }
</script>

</body>
</html>
